# è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹åŠŸèƒ½è¯´æ˜

## å½“å‰çŠ¶æ€

âœ… **å·²ä¿®å¤é…ç½®åŠ è½½é—®é¢˜** - ç°åœ¨è¿è¡Œæ—¶ä¼šæ­£ç¡®åŠ è½½æŒ‡å®šçš„é…ç½®æ–‡ä»¶
âœ… **æµ‹è¯•ç”¨ä¾‹å·²å®Œæ•´** - Dz_like_bofa_admin é¡¹ç›®æœ‰ 45 ä¸ªæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶
âœ… **è‡ªåŠ¨ç”ŸæˆåŠŸèƒ½æ­£å¸¸** - ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ç”Ÿæˆç¼ºå¤±çš„æµ‹è¯•ç”¨ä¾‹

## ä¸ºä»€ä¹ˆè¿è¡Œæ—¶æ˜¾ç¤º"ğŸ˜ ç”¨ä¾‹å·²ç»å¾ˆå®Œå–„äº†"ï¼Ÿ

è¿™æ˜¯**æ­£å¸¸çš„é¢„æœŸè¡Œä¸º**ï¼åŸå› ï¼š

1. **æ‰€æœ‰æµ‹è¯•æ•°æ®æ–‡ä»¶éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹**
   - æµ‹è¯•æ•°æ®æ–‡ä»¶ï¼š45 ä¸ª
   - æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼š45 ä¸ª
   - ä¸€ä¸€å¯¹åº”ï¼Œæ²¡æœ‰ç¼ºå¤±

2. **é»˜è®¤ä¸ä¼šè¦†ç›–å·²å­˜åœ¨çš„æ–‡ä»¶**
   - `testcase_generate = True` - å¯ç”¨è‡ªåŠ¨ç”Ÿæˆ
   - `testcase_re_generation = False` - ä¸è¦†ç›–å·²å­˜åœ¨çš„æ–‡ä»¶
   - è¿™æ ·å¯ä»¥ä¿æŠ¤ä½ æ‰‹åŠ¨ä¿®æ”¹çš„æµ‹è¯•ç”¨ä¾‹

## è‡ªåŠ¨ç”Ÿæˆçš„è§¦å‘æ¡ä»¶

è‡ªåŠ¨ç”Ÿæˆä¼šåœ¨ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨è¿è¡Œï¼š

### âœ… æƒ…å†µ 1ï¼šæ·»åŠ äº†æ–°çš„æµ‹è¯•æ•°æ®æ–‡ä»¶

```bash
# ä¾‹å¦‚ï¼šæ·»åŠ äº†æ–°çš„æµ‹è¯•æ•°æ®
httpseeker/data/test_data/Dz_like_bofa_admin/new_feature/test_new_api.yaml

# è¿è¡Œæ—¶ä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹
httpseeker/testcases/Dz_like_bofa_admin/new_feature/test_new_api.py
```

è¾“å‡ºï¼š
```
â³ ç–¯ç‹‚è‡ªåŠ¨ç”Ÿæˆä¸­...
ğŸ“„ Created: test_new_api.py
âœ… æµ‹è¯•ç”¨ä¾‹è‡ªåŠ¨ç”Ÿæˆå®Œæˆ
```

### âœ… æƒ…å†µ 2ï¼šåˆ é™¤äº†æŸäº›æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶

```bash
# å¦‚æœä½ åˆ é™¤äº†æŸä¸ªæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶
rm httpseeker/testcases/Dz_like_bofa_admin/some_test.py

# è¿è¡Œæ—¶ä¼šè‡ªåŠ¨é‡æ–°ç”Ÿæˆ
```

### âœ… æƒ…å†µ 3ï¼šé¦–æ¬¡è¿è¡Œæ–°é¡¹ç›®

å¦‚æœæµ‹è¯•ç”¨ä¾‹ç›®å½•ä¸ºç©ºæˆ–ç¼ºå°‘æ–‡ä»¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚

### âŒ æƒ…å†µ 4ï¼šæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹éƒ½å·²å­˜åœ¨ï¼ˆå½“å‰çŠ¶æ€ï¼‰

å¦‚æœæ‰€æœ‰æµ‹è¯•æ•°æ®éƒ½æœ‰å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼Œä¼šè·³è¿‡ç”Ÿæˆï¼š

```
ğŸ˜ ç”¨ä¾‹å·²ç»å¾ˆå®Œå–„äº†, æ·»åŠ æ–°æµ‹è¯•ç”¨ä¾‹æ•°æ®åå†æ¥ç”Ÿæˆå§~
```

ç„¶åç›´æ¥è¿è¡Œæµ‹è¯•ï¼Œæ”¶é›†åˆ° 45 ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚

## è¿è¡Œç¤ºä¾‹

```bash
python httpseeker/cli.py \
  --auth httpseeker/core/auth_yaml/Dz_like_bofa_admin.yaml \
  --env httpseeker/core/run_env/Dz_like_bofa_admin.env \
  --conf_toml httpseeker/core/conf_toml/Dz_like_bofa_admin.toml \
  --run
```

**é¢„æœŸè¾“å‡ºï¼š**
```
        â•¦ â•¦â•”â•¦â•—â•”â•¦â•—â•”â•â•—  â•”â•â•—â•”â•â•—â•”â•â•—â•¦â•”â•â•”â•â•—â•¦â•â•—
        â• â•â•£ â•‘  â•‘ â• â•â•  â•šâ•â•—â•‘â•£ â•‘â•£ â• â•©â•—â•‘â•£ â• â•¦â•
        â•© â•© â•©  â•© â•©    â•šâ•â•â•šâ•â•â•šâ•â•â•© â•©â•šâ•â•â•©â•šâ•

        Starting...
        Version: x.x.x

ğŸ“‹ å½“å‰é¡¹ç›®: Dz_like_bofa_admin                    # âœ… ç¡®è®¤é¡¹ç›®æ­£ç¡®
ğŸ˜ ç”¨ä¾‹å·²ç»å¾ˆå®Œå–„äº†, æ·»åŠ æ–°æµ‹è¯•ç”¨ä¾‹æ•°æ®åå†æ¥ç”Ÿæˆå§~  # âœ… æµ‹è¯•ç”¨ä¾‹å®Œæ•´ï¼Œè·³è¿‡ç”Ÿæˆ
>>> è‡ªåŠ¨æ³¨å†ŒåŠŸèƒ½å·²ç¦ç”¨                              # âœ… è‡ªåŠ¨æ³¨å†Œå·²ç¦ç”¨

collected 45 items                                  # âœ… æ”¶é›†åˆ° 45 ä¸ªæµ‹è¯•ç”¨ä¾‹

httpseeker/testcases/Dz_like_bofa_admin/...         # å¼€å§‹è¿è¡Œæµ‹è¯•
```

## å¦‚ä½•å¼ºåˆ¶é‡æ–°ç”Ÿæˆæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ï¼Ÿ

æœ‰æ—¶ä½ å¯èƒ½éœ€è¦å¼ºåˆ¶é‡æ–°ç”Ÿæˆæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ï¼ˆä¾‹å¦‚ï¼šæµ‹è¯•ç”¨ä¾‹æ¨¡æ¿æ›´æ–°äº†ï¼‰ï¼š

### æ–¹æ³• 1ï¼šä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ï¼ˆæ¨èï¼‰

```python
from httpseeker.run import run

# å¼ºåˆ¶é‡æ–°ç”Ÿæˆæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
run(
    testcase_generate=True,
    testcase_re_generation=True,  # è®¾ç½®ä¸º True
    # ... å…¶ä»–å‚æ•°
)
```

### æ–¹æ³• 2ï¼šåˆ é™¤æµ‹è¯•ç”¨ä¾‹ç›®å½•åé‡æ–°è¿è¡Œ

```bash
# åˆ é™¤æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
rm -rf httpseeker/testcases/Dz_like_bofa_admin/*

# ä¿ç•™ __init__.py
touch httpseeker/testcases/Dz_like_bofa_admin/__init__.py

# è¿è¡Œæ—¶ä¼šè‡ªåŠ¨é‡æ–°ç”Ÿæˆæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
python httpseeker/cli.py --run
```

### æ–¹æ³• 3ï¼šæ‰‹åŠ¨ç”Ÿæˆ

```bash
python -c "
import os
os.environ['HTTPSEEKER_CONF_PATH'] = 'httpseeker/core/conf_toml/Dz_like_bofa_admin.toml'

from httpseeker.utils.case_auto_generator import auto_generate_testcases
auto_generate_testcases(rewrite=True)  # rewrite=True å¼ºåˆ¶è¦†ç›–
"
```

## æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶è¯´æ˜

### è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
import pytest
from httpseeker.utils.request.runner import runner


class TestBofaAdminHomePage:
    @pytest.mark.parametrize('in_data', runner('test_bofa_admin_homePage'))
    def test_bofa_admin_homePage(self, in_data):
        runner(in_data)
```

### æ–‡ä»¶å‘½åè§„åˆ™

- æµ‹è¯•æ•°æ®æ–‡ä»¶ï¼š`httpseeker/data/test_data/{é¡¹ç›®å}/{æ¨¡å—å}/test_{åŠŸèƒ½å}.yaml`
- æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼š`httpseeker/testcases/{é¡¹ç›®å}/{æ¨¡å—å}/test_{åŠŸèƒ½å}.py`
- ç±»åï¼š`Test + é©¼å³°å‘½å`
- å‡½æ•°åï¼š`test_ + ä¸‹åˆ’çº¿å‘½å`

## æ³¨æ„äº‹é¡¹

1. **ä¸è¦æ‰‹åŠ¨ä¿®æ”¹å·²è‡ªåŠ¨ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹**
   - å¦‚æœè®¾ç½® `testcase_re_generation=True`ï¼Œæ‰‹åŠ¨ä¿®æ”¹ä¼šè¢«è¦†ç›–
   - å»ºè®®åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­æ·»åŠ è‡ªå®šä¹‰æµ‹è¯•é€»è¾‘

2. **ç¡®ä¿æµ‹è¯•æ•°æ®æ–‡ä»¶æ­£ç¡®**
   - æµ‹è¯•ç”¨ä¾‹æ˜¯æ ¹æ®æµ‹è¯•æ•°æ®æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆçš„
   - æµ‹è¯•æ•°æ®æ–‡ä»¶å¿…é¡»ç¬¦åˆ YAML æ ¼å¼è§„èŒƒ

3. **é¡¹ç›®åç§°å¿…é¡»åŒ¹é…**
   - é…ç½®æ–‡ä»¶ä¸­çš„ `project.name` å¿…é¡»ä¸ç›®å½•åä¸€è‡´
   - æµ‹è¯•æ•°æ®ç›®å½•ï¼š`httpseeker/data/test_data/{project.name}/`
   - æµ‹è¯•ç”¨ä¾‹ç›®å½•ï¼š`httpseeker/testcases/{project.name}/`

## æ€»ç»“

**"è¿è¡Œæ—¶æ²¡æœ‰è‡ªåŠ¨ç”Ÿæˆcase"æ˜¯æ­£å¸¸çš„ï¼**

å› ä¸ºæµ‹è¯•ç”¨ä¾‹å·²ç»å®Œæ•´ç”Ÿæˆäº†ï¼Œä¸éœ€è¦é‡æ–°ç”Ÿæˆã€‚è¿™æ˜¯ä¸€ä¸ªæ™ºèƒ½çš„è¡Œä¸ºï¼š
- âœ… é¿å…é‡å¤ç”Ÿæˆæµªè´¹æ—¶é—´
- âœ… ä¿æŠ¤æ‰‹åŠ¨ä¿®æ”¹çš„æµ‹è¯•ç”¨ä¾‹
- âœ… åªåœ¨çœŸæ­£éœ€è¦æ—¶æ‰ç”Ÿæˆ

å¦‚æœä½ æ·»åŠ äº†æ–°çš„æµ‹è¯•æ•°æ®æ–‡ä»¶ï¼Œä¸‹æ¬¡è¿è¡Œæ—¶ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ç”Ÿæˆå¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹ã€‚
