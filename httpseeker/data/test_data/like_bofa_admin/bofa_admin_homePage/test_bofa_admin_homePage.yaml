# bofa站点admin后台首页
config:
  allure:
    epic: "bofa站点admin后台"
    feature: "首页模块"
    story: "页面所有数据接口"
    severity: "critical"

  request:
    env: "like_bofa_admin_test.env"  # 需要在run_env目录下创建test.env文件
    headers:
      Content-Type: "application/json"
    timeout: 30
    verify: false

  module: "homepage"

test_steps:
  - name: "登录"
    case_id: "cdb_bofa_login_001"
    description: "登录拿token"

    request:
      method: "POST"
      url: "/cdb/account/login"
      params: null
      headers: null
      cookies: null
      body_type: "json"
      body:
        username: ethans
        password: 75OIo26rz2WLN02K4ZH6yQ==
        ggcode: ${get_login_google_auth_code()}
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

      - extract:
          key: "token"
          type: "cache"
          jsonpath: "$.json.data.token"

  # ========== 步骤2: 首页模块检查获取网站图标图片接口 ==========
  - name: "获取网站图标图片"
    case_id: "cdb_bofa_homepage_001"
    description: "首页模块检查获取网站图标图片接口"

    request:
      method: "GET"
      url: "/cdb/sys/ioc/getFaviconImg"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤3: 首页模块检查获取账户信息接口 ==========
  - name: "获取账户信息"
    case_id: "cdb_bofa_homepage_002"
    description: "首页模块检查获取账户信息接口"

    request:
      method: "GET"
      url: "/cdb/account/info"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤4: 首页模块检查获取任务数量接口 ==========
  - name: "获取任务数量"
    case_id: "cdb_bofa_homepage_003"
    description: "首页模块检查获取任务数量接口"

    request:
      method: "GET"
      url: "/cdb/dzdianzan/likeTaskOrder/getTaskNum"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤5: 首页模块检查获取版本接口 ==========
  - name: "获取版本"
    case_id: "cdb_bofa_homepage_004"
    description: "首页模块检查获取版本接口"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/getVersion"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤6: 首页模块检查获取一号仪表盘数据接口 ==========
  - name: "获取一号仪表盘数据"
    case_id: "cdb_bofa_homepage_005"
    description: "首页模块获取一号仪表盘数据"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/dashBoardOne"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤7: 首页模块检查获取二号仪表盘数据接口 ==========
  - name: "获取二号仪表盘数据"
    case_id: "cdb_bofa_homepage_006"
    description: "首页模块获取二号仪表盘数据"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/dashBoardTwo"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤8: 首页模块检查获取五号仪表盘数据接口 ==========
  - name: "获取五号仪表盘数据"
    case_id: "cdb_bofa_homepage_007"
    description: "首页模块获取五号仪表盘数据"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/dashBoardFive"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤9: 首页模块检查获取六号仪表盘数据接口 ==========
  - name: "获取六号仪表盘数据"
    case_id: "cdb_bofa_homepage_008"
    description: "首页模块获取六号仪表盘数据"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/dashBoardSix"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤10: 首页模块检查获取七号仪表盘数据接口 ==========
  - name: "获取七号仪表盘数据"
    case_id: "cdb_bofa_homepage_009"
    description: "首页模块获取七号仪表盘数据"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/dashBoardSeven"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤11: 首页模块检查获取八号仪表盘数据接口 ==========
  - name: "获取八号仪表盘数据"
    case_id: "cdb_bofa_homepage_010"
    description: "首页模块获取八号仪表盘数据"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/dashBoardEight"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤12: 首页模块检查获取九号仪表盘数据接口 ==========
  - name: "获取九号仪表盘数据"
    case_id: "cdb_bofa_homepage_011"
    description: "首页模块获取九号仪表盘数据"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/dashBoardNine"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤13: 首页模块检查获取十号仪表盘数据接口 ==========
  - name: "获取十号仪表盘数据"
    case_id: "cdb_bofa_homepage_012"
    description: "首页模块获取十号仪表盘数据"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/dashBoardTen"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤14: 首页模块检查获获取今日任务收入数据接口 ==========
  - name: "获取今日任务收入数据"
    case_id: "cdb_bofa_homepage_013"
    description: "首页模块获取今日任务收入数据"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/todayTaskIncome"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤15: 首页模块检查获取今日任务收入数据v2接口 ==========
  - name: "获取今日任务收入数据v2"
    case_id: "cdb_bofa_homepage_014"
    description: "首页模块获取今日任务收入数据v2"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/todayTaskIncomeV2"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤16: 首页模块检查获取ECharts图表接口 ==========
  - name: "获取ECharts图表"
    case_id: "cdb_bofa_homepage_015"
    description: "首页模块获取ECharts图表"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/getECharts"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤17: 首页模块检查获取提现手续费接口 ==========
  - name: "获取提现手续费"
    case_id: "cdb_bofa_homepage_016"
    description: "首页模块获取提现手续费"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/withdraw-fee"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤18: 首页模块检查查询会员数量接口 ==========
  - name: "查询会员数量"
    case_id: "cdb_bofa_homepage_017"
    description: "首页模块查询会员数量"

    request:
      method: "GET"
      url: "/cdb/dzvip/vipmessage/findVipCount"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤19: 首页模块检查获取ECharts图表1接口 ==========
  - name: "获取ECharts图表1"
    case_id: "cdb_bofa_homepage_018"
    description: "首页模块获取ECharts图表1"

    request:
      method: "GET"
      url: "/cdb/dzsys/dashboard/getECharts1"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"

  # ========== 步骤20: 首页模块检查检查加密是否启用 ==========
  - name: "检查加密是否启用"
    case_id: "cdb_bofa_homepage_019"
    description: "首页模块检查加密是否启用"

    request:
      method: "GET"
      url: "/cdb/account/encryptionEnabled"
      params: null
      headers:
        Authorization: "${token}"
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

      - assert:
          check: "验证data不为空"
          type: "not_eq"
          value: null
          jsonpath: "$.json.data"