# bofa站点admin后台首页
config:
  allure:
    epic: "bofa站点admin后台"
    feature: "用户管理_代理报表"
    story: "页面所有数据接口"
    severity: "critical"

  request:
    env: "Dz_like_bofa_admin.env"  # 需要在run_env目录下创建test.env文件
    headers:
      Content-Type: "application/json"
    timeout: 30
    verify: false

  module: "userMgmt_agtRpt"

test_steps:
  # ========== 步骤2: 用户管理模块-代理报表子模块-列表数据（查询/重置）==========
  - name: "列表数据（查询/重置）"
    case_id: "cdb_bofa_userMgmt_agtRpt_001"
    description: "用户管理模块-代理报表子模块-列表数据（查询/重置）"

    request:
      method: "GET"
      url: "/cdb/dzuser/agentreport/list?page=1&limit=10&startTime=${generate_today_start_time()}&endTime=${generate_today_time()}"
      params: null
      headers: null
      cookies: null
      body_type:  null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"

  # ========== 步骤3: 用户管理模块-代理报表子模块-汇总数据==========
  - name: "汇总数据"
    case_id: "cdb_bofa_userMgmt_agtRpt_002"
    description: "用户管理模块-代理报表子模块-汇总数据"

    request:
      method: "GET"
      url: "/cdb/dzuser/agentreport/list/sum?page=1&limit=10&startTime=${generate_today_start_time()}&endTime=${generate_today_time()}"
      params: null
      headers: null
      cookies: null
      body_type: null
      body: null
      files: null

    teardown:
      - assert:
          check: "验证请求成功"
          type: "eq"
          value: 20000
          jsonpath: "$.json.code"

      - assert:
          check: "验证返回成功标识"
          type: "eq"
          value: true
          jsonpath: "$.json.success"



